namespace = flavour_corinsfield

country_event = { #veykodan wars start
    id = flavour_corinsfield.1
    title = flavour_corinsfield.1.t
    desc = flavour_corinsfield.1.d
    picture = COSSACK_ESTATE_UPSET_eventPicture
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.1.a
        add_country_modifier = { name = H35_veykoda_raids duration = -1 }
    }
}
country_event = { #veykodan wars fin
    id = flavour_corinsfield.2
    title = flavour_corinsfield.2.t
    desc = flavour_corinsfield.2.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.2.a
        remove_country_modifier = H35_veykoda_raids
    }
}
country_event = { #ichabood roose
    id = flavour_corinsfield.3
    title = flavour_corinsfield.3.t
    desc = flavour_corinsfield.3.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.3.a
        
        define_general = {
            name = ichabod_general
            fire = 5
            shock = 3
            manuever = 3
            siege = 5
        }
        clear_saved_name = ichabod_general
    }
}
country_event = { #dams and domes
    id = flavour_corinsfield.4
    title = flavour_corinsfield.4.t
    desc = flavour_corinsfield.4.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.4.a
        every_known_country = {
            if = {
                limit = {
                    religion = ynn_river_worship
                }
                add_opinion = {
                    who = ROOT
                    modifier = H35_melted_the_dome
                }
                add_trust = {
                    who = ROOT
                    value = -80
                }
            }
        }
        destroy_great_project = { type = ynnic_precursor_dome_stanyrhrada }
        add_country_modifier = { name = h35_looting_barges duration = 7300 }
    }
    option = {
        name = flavour_corinsfield.4.b

        medium_increase_of_ruinborn_tolerance_effect = yes
        every_known_country = {
            if = {
                limit = {
                    capital_scope = { superregion = ynn_superregion }
                }
                add_opinion = {
                    who = ROOT
                    modifier = H35_respected_burial
                }
            }
        }
        hidden_effect = { country_event = { id = flavour_corinsfield.5 days = 1825 } }
        #paranoia increase
    }
}
country_event = { #magical dome
    id = flavour_corinsfield.5
    title = flavour_corinsfield.5.t
    desc = flavour_corinsfield.5.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.5.a
        destroy_great_project = { type = ynnic_precursor_dome_stanyrhrada }
        #large paranoia increase
        every_known_country = {
            if = {
                limit = {
                    religion = ynn_river_worship
                }
                add_trust = {
                    who = ROOT
                    value = -50
                }
            }
        }
    }

    option = {
        name = flavour_corinsfield.5.b
        if = {
            limit = {
                1142 = { has_great_project = { type = ynnic_precursor_dome_stanyrhrada tier = 1 } }
            }
            add_treasury = 1000
        }
        else_if = {
            limit = {
                1142 = { has_great_project = { type = ynnic_precursor_dome_stanyrhrada tier = 2 } }
            }
            add_treasury = 2500
        }
        else_if = {
            limit = {
                1142 = { has_great_project = { type = ynnic_precursor_dome_stanyrhrada tier = 3 } }
            }
            add_treasury = 5000
        }
        else = {
            add_treasury = 500
        }
        destroy_great_project = { type = ynnic_precursor_dome_stanyrhrada }
        every_known_country = {
            if = {
                limit = {
                    religion = ynn_river_worship
                }
                add_opinion = {
                    who = ROOT
                    modifier = H35_melted_the_dome
                }
                add_trust = {
                    who = ROOT
                    value = -80
                }
            }
        }
        add_country_modifier = { name = H35_magic_dome duration = 3650 }
    }
}
country_event = { #crimson week 1
    id = flavour_corinsfield.6
    title = flavour_corinsfield.6.t
    desc = flavour_corinsfield.6.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.6.a
        every_owned_province = {
            if = {
                limit = {
                    culture = sarda
                }
                add_province_modifier = { name = h35_sarda_minor_unrest duration = 3650 }
                add_devastation = 25
            }
        }
        random_owned_province = {
            limit = { OR = { culture = sarda region = sarda_region } }
            spawn_rebels = {
                size = 1
                leader = noble_zealot
                type = corinsfield_mages
            }
        }
        random_owned_province = {
            limit = { OR = { culture = sarda region = sarda_region } }
            spawn_rebels = {
                size = 1
                leader = noble_zealot
                type = corinsfield_mages
            }
        }
        country_event = { id = flavour_corinsfield.7 days = 730 }
    }
    option = {
        name = flavour_corinsfield.6.b
        every_owned_province = {
            if = {
                limit = { OR = { culture = sarda region = sarda_region } }
                add_province_modifier = { name = h35_sarda_major_unrest duration = 3650 }
                add_devastation = 50
            }
        }
        random_owned_province = {
            limit = { OR = { culture = sarda region = sarda_region } }
            spawn_rebels = {
                size = 2
                leader = noble_zealot
                type = corinsfield_mages
            }
        }
        random_owned_province = {
            limit = { OR = { culture = sarda region = sarda_region } }
            spawn_rebels = {
                size = 2
                leader = noble_zealot
                type = corinsfield_mages
            }
        }
        country_event = { id = flavour_corinsfield.7 days = 365 }
    }
}
country_event = { #flames of rebellion
    id = flavour_corinsfield.7
    title = flavour_corinsfield.7.t
    desc = flavour_corinsfield.7.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.7.a

        set_country_flag = h35_major_mage_malding
        random_owned_province = {
            if = {
                limit = { OR = { culture = sarda region = sarda_region } }
            }
            spawn_rebels = {
                size = 3
                leader = noble_zealot
                type = corinsfield_mages
            }
        }
        random_owned_province = {
            if = {
                limit = { OR = { culture = sarda region = sarda_region } }
            }
            spawn_rebels = {
                size = 3
                leader = noble_zealot
                type = corinsfield_mages
            }
        }
    }
}
country_event = { #crimson week end
    id = flavour_corinsfield.8
    title = flavour_corinsfield.8.t
    desc = flavour_corinsfield.8.d
    picture = beautiful_cave
    fire_only_once = yes

    mean_time_to_happen = {
        months = 24
    }

    trigger = {
        NOT = { num_of_rebel_controlled_provinces = 1 }
        NOT = { num_of_rebel_armies = 1 }
        has_country_flag = h35_major_mage_malding
    }
    option = {
        name = flavour_corinsfield.8.a

        add_country_modifier = { name = h35_cultural_crackdown_modifier duration = -1 }
        every_owned_province = {
            remove_province_modifier = h35_sarda_major_unrest
            remove_province_modifier = h35_sarda_minor_unrest
        }
        clr_country_flag = h35_major_mage_malding
    }
    
}
country_event = { #neighborly society
    id = flavour_corinsfield.9
    title = flavour_corinsfield.9.t
    desc = flavour_corinsfield.9.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.9.a

        add_war_exhaustion = -2
        add_inflation = -2
        add_stability = 1
        add_estate_loyalty = {
            estate = all
            loyalty = 10
        }
    }
}
country_event = { #father and daughter
    id = flavour_corinsfield.10
    title = flavour_corinsfield.10.t
    desc = flavour_corinsfield.10.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.10.a

        add_ruler_modifier = { name = h35_father_and_daughter duration = -1 }
    }
}
country_event = { #grief of father
    id = flavour_corinsfield.11
    title = flavour_corinsfield.11.t
    desc = flavour_corinsfield.11.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.11.a

        trigger = {
            AND = {
                has_ruler = "Godwin"
                dynasty = "of Escerton"
            }
        }
        add_ruler_modifier = { name = h35_father_grief duration = -1 }
        remove_country_modifier = h35_father_and_daughter
    }
    option = {
        name = flavour_corinsfield.11.a

        trigger = {
            NOT = {
                AND = {
                    has_ruler = "Godwin"
                    dynasty = "of Escerton"
                }
            }
        }
    }
}
country_event = { #??
    id = flavour_corinsfield.12
    title = flavour_corinsfield.12.t
    desc = flavour_corinsfield.12.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.12.a

    }
}
country_event = { #blessed book
    id = flavour_corinsfield.13
    title = flavour_corinsfield.13.t
    desc = flavour_corinsfield.13.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.13.a

        change_variable = {
            which = h35_blessed_book
            value = 111
        } #possible outcomes 311, 221, 131, 212, 122, 113 #never again
        country_event = { id = flavour_corinsfield.14 }
    }
}
country_event = {
    id = flavour_corinsfield.14
    title = flavour_corinsfield.14.t
    desc = flavour_corinsfield.14.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.14.a

        change_variable = { #2 ttf
            which = h35_blessed_book
            value = 100
        }
        country_event = { id = flavour_corinsfield.15 }
    }
    option = {
        name = flavour_corinsfield.14.a

        change_variable = { #20 manpower
            which = h35_blessed_book
            value = 10
        }
        country_event = { id = flavour_corinsfield.15 }
    }
    option = {
        name = flavour_corinsfield.14.a

        change_variable = { #10 recovery
            which = h35_blessed_book
            value = 1
        }
        country_event = { id = flavour_corinsfield.15 }
    }
}
country_event = {
    id = flavour_corinsfield.15
    title = flavour_corinsfield.15.t
    desc = flavour_corinsfield.15.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.15.a

        change_variable = { #up to 3 ttf
            which = h35_blessed_book
            value = 100
        }
        country_event = { id = flavour_corinsfield.16 }
    }
    option = {
        name = flavour_corinsfield.15.a

        change_variable = { # up to 30 manpower
            which = h35_blessed_book
            value = 10
        }
        country_event = { id = flavour_corinsfield.16 }
    }
    option = {
        name = flavour_corinsfield.15.a

        change_variable = { #up to 15 recovery
            which = h35_blessed_book
            value = 1
        }
        country_event = { id = flavour_corinsfield.16 }
    }
}
country_event = {
    id = flavour_corinsfield.16
    title = flavour_corinsfield.16.t
    desc = flavour_corinsfield.16.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.16.a

        if = { limit = { check_variable = { which = h35_blessed_book value = 311 } } add_country_modifier = { name = h35_book_311 duration = -1 } }
        else_if = { limit = { check_variable = { which = h35_blessed_book value = 221 } } add_country_modifier = { name = h35_book_221 duration = -1 } }
        else_if = { limit = { check_variable = { which = h35_blessed_book value = 212 } } add_country_modifier = { name = h35_book_212 duration = -1 } }
        else_if = { limit = { check_variable = { which = h35_blessed_book value = 131 } } add_country_modifier = { name = h35_book_131 duration = -1 } }
        else_if = { limit = { check_variable = { which = h35_blessed_book value = 122 } } add_country_modifier = { name = h35_book_122 duration = -1 } }
        else_if = { limit = { check_variable = { which = h35_blessed_book value = 113 } } add_country_modifier = { name = h35_book_113 duration = -1 } }

    }
}
country_event = { #veykodan raids / war . random events
    id = flavour_corinsfield.17
    title = flavour_corinsfield.17.t
    desc = flavour_corinsfield.17.d
    picture = COSSACK_ESTATE_RAIDERS_eventPicture
    is_triggered_only = yes

    trigger = {
        has_country_modifier = H35_veykoda_raids
        any_owned_province = {
            has_ruinborn_minority_trigger = yes
        }
    }

    option = {
        name = flavour_corinsfield.17.a
        random_owned_province = {
            limit = {
                AND = {
                    OR = {
                        has_ruinborn_minority_trigger = yes
                        culture = veykodan
                    }
                    region = veykoda_region
                }
            }
            spawn_rebels = {
                size = 3
                leader = noblezealot
                type = veykoda_raiders
            }
        }
        custom_tooltip = h35_minority_join_veykodans
        remove_ruinborn_minority_size_effect = yes
    }
}
country_event = { #veykodan raids / war . random events
    id = flavour_corinsfield.18
    title = flavour_corinsfield.18.t
    desc = flavour_corinsfield.18.d
    picture = COSSACK_ESTATE_RAIDERS_eventPicture
    is_triggered_only = yes

    trigger = {
        has_country_modifier = H35_veykoda_raids
        any_owned_province = {
            has_ruinborn_minority_trigger = yes
        }
    }

    option = {
        name = flavour_corinsfield.18.a
        random_owned_province = {
            limit = {
                is_capital = no
                region = veykoda_region
            }
            spawn_rebels = {
                size = 2
                type = leadered_peasant_rebels
            }
            spawn_rebels = {
                size = 2
                leader = noblezealot
                type = veykoda_raiders
            }
        }
    }
}
country_event = { #freedom for mages
    id = flavour_corinsfield.19
    title = flavour_corinsfield.19.t
    desc = flavour_corinsfield.19.d
    picture = beautiful_cave
    is_triggered_only = yes

    trigger = {
        has_country_modifier = H35_veykoda_raids
    }
    option = {
        name = flavour_corinsfield.19.a
        add_country_modifier = {
            name = h35_veykoda_freed_mages
            duration = 3650
        }
    }
}
country_event = { #valley of death
    id = flavour_corinsfield.20
    title = flavour_corinsfield.21.t
    desc = flavour_corinsfield.21.d
    picture = TRANSYLVANIA_BETHLEN_INVASION_eventPicture
    is_triggered_only = yes

    trigger = {
        has_country_modifier = H35_veykoda_raids
        any_owned_province = {
            is_capital = no
            infantry_in_province = H35
        }
    }
    option = {
        name = flavour_corinsfield.20.a
        random_owned_province = {
            limit = {
                is_capital = no
                infantry_in_province = H35
            }
            spawn_rebels = {
                size = 2
                leader = noblezealot
                type = veykoda_raiders
            }
        }
    }
}
country_event = { #scouring the settlement
    id = flavour_corinsfield.21
    title = flavour_corinsfield.21.t
    desc = flavour_corinsfield.21.d
    picture = beautiful_cave
    is_triggered_only = yes

    trigger = {
        has_country_modifier = H35_veykoda_raids
    }
    option = {
        name = flavour_corinsfield.21.a

        random_owned_province = {
            limit = {
                num_of_buildings_in_province = 1
            }
            random_list = {
                20 = {
                    remove_building = temple
                    remove_building = cathedral
                }
                20 = {
                    remove_building = workshop
                    remove_building = counting_house
                }
                20 = {
                    remove_building = barracks
                    remove_building = training_fields
                }
                20 = {
                    remove_building = marketplace
                    remove_building = trade_depot
                    remove_building = stock_exchange
                }
                20 = {
                    remove_building = courthouse
                    remove_building = town_hall
                }
            }
            add_devastation = 50
        }
    }
}
country_event = { #info leak
    id = flavour_corinsfield.22
    title = flavour_corinsfield.22.t
    desc = flavour_corinsfield.22.d
    picture = beautiful_cave
    is_triggered_only = yes

    trigger = {
        any_owned_province = {
            has_ruinborn_minority_trigger = yes
        }
        OR = {
            has_mil_advisor = yes
            has_adm_advisor = yes
            has_adm_advisor = yes
        }
    }
    option = {
        name = flavour_corinsfield.22.a

        kill_advisor = random

        random_owned_province = {
            limit = {
                region = veykoda_region
                has_ruinborn_minority_trigger = yes
            }
            spawn_rebels = {
                size = 1
                leader = noblezealot
                type = veykoda_raiders
            }
        }
    }
}

#############################################trials start
country_event = { #trial of the farmer
    id = flavour_corinsfield.23
    title = flavour_corinsfield.23.t
    desc = flavour_corinsfield.23.d
    picture = beautiful_cave
    is_triggered_only = yes

    option = {
        name = flavour_corinsfield.23.a
    }
}

country_event = { #trial of the love
    id = flavour_corinsfield.24
    title = flavour_corinsfield.24.t
    desc = flavour_corinsfield.24.d
    picture = beautiful_cave
    is_triggered_only = yes

    option = {
        name = flavour_corinsfield.24.a
    }
}

country_event = { #trial of the preacher
    id = flavour_corinsfield.25
    title = flavour_corinsfield.25.t
    desc = flavour_corinsfield.25.d
    picture = beautiful_cave
    is_triggered_only = yes

    option = {
        name = flavour_corinsfield.25.a
    }
}

country_event = { #trial of the hermit
    id = flavour_corinsfield.25
    title = flavour_corinsfield.25.t
    desc = flavour_corinsfield.25.d
    picture = beautiful_cave
    is_triggered_only = yes

    option = {
        name = flavour_corinsfield.25.a
    }
}

country_event = { #trial of the bard
    id = flavour_corinsfield.27
    title = flavour_corinsfield.27.t
    desc = flavour_corinsfield.27.d
    picture = beautiful_cave
    is_triggered_only = yes

    option = {
        name = flavour_corinsfield.27.a
    }
}

country_event = { #trial of the smith
    id = flavour_corinsfield.28
    title = flavour_corinsfield.28.t
    desc = flavour_corinsfield.28.d
    picture = beautiful_cave
    is_triggered_only = yes

    option = {
        name = flavour_corinsfield.28.a
    }
}

country_event = { #trial of the beast
    id = flavour_corinsfield.29
    title = flavour_corinsfield.29.t
    desc = flavour_corinsfield.29.d
    picture = beautiful_cave
    is_triggered_only = yes

    option = {
        name = flavour_corinsfield.29.a
    }
}

country_event = { #trial of the drunkard
    id = flavour_corinsfield.30
    title = flavour_corinsfield.30.t
    desc = flavour_corinsfield.30.d
    picture = beautiful_cave
    is_triggered_only = yes

    option = {
        name = flavour_corinsfield.30.a
    }
}

country_event = { #trial of the performer
    id = flavour_corinsfield.31
    title = flavour_corinsfield.31.t
    desc = flavour_corinsfield.31.d
    picture = beautiful_cave
    
    trigger = {
        tag = H35
        inquisitor = 1
        mission_completed = H35_maleficar_sympathizers
    }

    mean_time_to_happen = {
        days = 100
    }

    option = {
        name = flavour_corinsfield.31.a
    }
}
#############################################trials over
country_event = { #istranar refugees
    id = flavour_corinsfield.32
    title = flavour_corinsfield.32.t
    desc = flavour_corinsfield.32.d
    picture = beautiful_cave
    
    trigger = {
        tag = H35
        H47 = { 
            exists = no
        }
        H46 = { 
            exists = no
        }
    }

    mean_time_to_happen = {
        days = 100
    }

    option = {
        name = flavour_corinsfield.32.a
        add_stability = 1
    }
    option = {
        name = flavour_corinsfield.32.b
        capital_scope = {
            add_province_modifier = {
                name = h35_istranar_refugees
                duration = -1
            }
        }
    }
}

country_event = { #red night - istranari version
    id = flavour_corinsfield.33
    title = flavour_corinsfield.33.t
    desc = flavour_corinsfield.33.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.33.a
        capital_scope = {
            remove_province_modifier = h35_istranar_refugees
        }
        add_yearly_manpower = -0.5
    }
    option = {
        name = flavour_corinsfield.33.b
        small_decrease_of_ruinborn_tolerance_effect = yes
        1133 = {
            add_devastation = 50
        }
    }
    option = {
        name = flavour_corinsfield.33.c
        large_decrease_of_ruinborn_tolerance_effect = yes
        add_years_of_income = 0.3
        1133 = {
            add_devastation = 100
        }
    }
}
country_event = { #red night - normie version
    id = flavour_corinsfield.34
    title = flavour_corinsfield.34.t
    desc = flavour_corinsfield.34.d
    picture = beautiful_cave
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = flavour_corinsfield.34.a
        add_yearly_manpower = -2
    }
    option = {
        name = flavour_corinsfield.34.b
        small_decrease_of_ruinborn_tolerance_effect = yes
        1133 = {
            add_devastation = 50
        }
    }
    option = {
        name = flavour_corinsfield.34.c
        large_decrease_of_ruinborn_tolerance_effect = yes
        add_years_of_income = 0.3
        1133 = {
            add_devastation = 100
        }
    }
}
country_event = {
    id = flavour_corinsfield.35
    title = flavour_corinsfield.35.t
    desc = flavour_corinsfield.35.d
    picture = beautiful_cave
    is_triggered_only = yes

    option = {
        2807 = {
            add_great_project = {
                type = H35_gp_crimson_cathedral
            }
        }
    }
}